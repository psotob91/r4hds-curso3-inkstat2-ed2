---
title: "<FONT color='#A7D5E8'>Variables numéricas</FONT>"
subtitle: "<FONT color='#E9AFA3' size='10'>R para Ciencia de Datos en Salud: <br> Análisis Descriptivo e Inferencia Estadística</FONT>"
author: "<FONT color='#FFFFFF' size='30'>Percy Soto-Becerra M.D., M.Sc(c)</FONT>"
institute: "<FONT color='#FFFFFF' size='5'>InkaStats Data Science Solutions | Medical Branch<br>@github/psotob91</FONT>"

format: 
  revealjs:
    self-contained: true
    theme: [simple, theme/theme.scss]
    footer: "Variables numérica"
    slide-number: c/t
    logo: img/logo.png
    width: 1920
    height: 1080
    highlight-style: ayu-dark
    self-contained-math: true
from: markdown+emoji
execute:
  echo: true
---

```{r}
#| label: setup
#| include: false
library(fontawesome)
library(tidyverse)
library(haven)
library(quarto)
library(gt)
library(gtExtras)
library(gtsummary)
library(showtext)
library(rio)
library(skimr)

## Ver QUARTO RSTUDIO CONFERENCE: https://github.com/rstudio-conf-2022/get-started-quarto/blob/main/materials/02-authoring.qmd
## 
## blackboard theme: https://github.com/schochastics/quarto-blackboard-theme
## 
## https://github.com/schochastics/xaringan-themes
```

---

# Análisis descriptivo de variables numéricas

---



## Medidas de tendencia central 

::: {.panel-tabset}

### Media aritmética

- La media aritmética o promedio:

$$\bar{x} = \frac{x_1 + x_2 + ... + x_n}{n} = \frac{\sum_{i = 1}^{n}{x_i}}{n}$$

### Mediana

Content for Tab B

### Moda



:::


---

## summarise() y group_by()



## 



## 



## 
-----------------------------------

## Análisis descriptivo de variable numérica {.scrollable}

::: panel-tabset
### Tend. Central
-   Medias de tendencia central 
    -   Media 
    -   Mediana (es también `medida de posición`) 
    -   Moda (no es usual) 
    
### Posición 
-   Medidas de posición 
    -   Cuantiles (en general)
    -   Mediana = percentil 50 (es también medida de `tendencia central`)
    -   Percentil 25 (p25) 
    -   Percentil 75 (p75) 
    
### Dispersión    
-   Medidas de dispersión 
    -   Rango (máximo - mínimo) 
    -   Varianza / Desviación estándar
    -   Rango intercuartílico (p75 - p25)   
    
### Distribución

- Simétrica
- Asimétrica (o 'sesgada')
<FONT size='6'>
    - Positiva (A la derecha) </FONT><FONT size='6'>
    - Negativa (A la izquierda) </FONT>
    
- Resumiendo:

![](img/distrib.png)
:::

## Análisis descriptivo de variable numérica - recomendaciones{.scrollable}

::: panel-tabset
### ¿Qué reportar?

- `Media` +/- `Desviación estándar` <FONT size='6'>
    - Si distribución es `simétrica` y `variabilidad es relativamente baja`. </FONT><FONT size='6'>
    - La distribución normal es un ejemplo de distribución simétrica. </FONT>
    
- `Mediana` (`percentil 25` - `percentil 75`) <FONT size='6'>
    - Si distribución es  `asimétrica` o `variabilidad es relativamente alta`. </FONT><FONT size='6'>
    - Mejor `percentiles 25 y 75` en vez de rango intercuartílico (más información`de los primeros) </FONT> 

- `Máximo` y `mínimo` siempre: <FONT size='6'>
    - Es mejor que rango, provee más información.</FONT><FONT size='6'>
    - Preferentemente en `tabla principal`.</FONT><FONT size='6'>
    - Si problemas de espacio, usar `tabla anexa`.</FONT>

### Ejemplo 1

**Para la variable numérica peso inicial** Se usa la función `skim()` y se coloca la variable de interés. 

  <FONT size='6'>
  
  - `p0` es el valor `mínimo` y `p100` es el valor `máximo`. </FONT><FONT size='6'>
  
  - La `mediana` es `p50`. </FONT><FONT size='6'>
  
  - `mean` es el `promedio` y `sd` es la `desviación estándar`. </FONT>


También analizamos la `distribución` de manera gráfica con un histograma. Se aprecia que la variable es aproximadamente simétrica: 

<FONT size='6'>

- Media vs mediana muy parecidas y </FONT><FONT size='6'>

- Gráfico con desviaciones ligeras de simetría. </FONT>

Por lo tanto, decidimos reportar `media (desviación estándar)`. `Mímimo` y `máximo` debería tambier reportarse (en texto o en tabla anexo).

```{r}
# hist(datos$peso_inicial)
```

**Descripción del resultado (ejemplo)**: 

> El peso inicial varió entre 

### Ejemplo 2

**Para la variable numérica triglicéridos al final del estudio**, se tiene las siguientes medidas de resumen:

```{r}
# datos %>% 
#   skim(tag)
```


- Notar que la `media` y la `mediana` difieren en aprox. `12 mg/dl`. Esto `sugiere` la existencia de alguna `asimetría` en la `distribución` de esta variable. 

- Veamos el gráfico:

```{r}
# hist(datos$tag)
```

- Se aprecia que la distribución es `sesgada hacia la derecha`. 

- Por lo tanto, la media no sería un buen `representante` de toda la distribución de datos. 

- La `mediana` es `más robusta` al sesgo de la distribución y `se prefiere` reportarla en compañía de los `percentiles 25` y `75`. 

**Descripción del resultado (ejemplo)**: 

> El nivel de triglicéridos al final del seguimiento varió entre 

::: 